<div>
  <h1 class="title">Device Settings</h1>
</div>

<div class="text-container">
  <button class="collapse-header" (click)="expand(0)">Add a Device</button>
  <div class="collapse-panel">
    <form class="settings-form" (submit)="onAddSubmit()">
      <div class="form-element">
        <label class="form-label">Custom Device ID: </label>
        <input class="form-textbox" type="text" [(ngModel)]="addCustomId" name="addCustomId">
        <p class="form-explanation">This will be a way for you to easily find your device. The system shall use a separate autogenerated ID to identify the device.</p>
      </div>
      <div class="form-element">
        <label class="form-label">Assigned Service: </label>
        <input class="form-textbox" type="text" [(ngModel)]="addAssignedService" name="addAssignedService">
        <p class="form-explanation">This will be what service you expect the device to perform. It is also a way for you to identify the device.</p>
      </div>
      <div class="form-element">
        <label class="form-label">Working IP Address: </label>
        <input class="form-textbox" type="text" [(ngModel)]="addIpAddress" name="addIpAddress">
        <p class="form-explanation">Choose the IP Address that H0M35T3AD will use to communicate with your device. Note that static IP's will only work if you're on the same network as the device.</p>
      </div>
      <div class="form-element">
        <input class="button-dark selectDisable" id="form-button-stretch" type="submit">
      </div>
    </form>
    <br><hr>
  </div>
  <button class="collapse-header" (click)="expand(1)">Manual Update a Device</button>
  <div class="collapse-panel">
    <form class="settings-form" (submit)="onUpdateSubmit()">
      <div class="form-element">
        <label class="form-label">Device to Update:</label>
        <div class="select-wrapper">
          <select class="selectDisable" (change)="prefillUpdateForm()" [(ngModel)]="selectedUpdateDevice" name="selectedUpdateDevice">
            <option *ngFor="let x of devices" [ngValue]="x">{{x.customId}}</option>
          </select>
        </div>
      </div>
      <div class="form-element">
        <label class="form-label">Custom Device ID: </label>
        <input class="form-textbox" type="text" [(ngModel)]="updateCustomId" name="updateCustomId">
        <p class="form-explanation">This will be a way for you to easily find your device. The system shall use a separate autogenerated ID to identify the device.</p>
      </div>
      <div class="form-element">
        <label class="form-label">Assigned Service: </label>
        <input class="form-textbox" type="text" [(ngModel)]="updateAssignedService" name="updateAssignedService">
        <p class="form-explanation">This will be what service you expect the device to perform. It is also a way for you to identify the device.</p>
      </div>
      <div class="form-element">
        <label class="form-label">Working IP Address: </label>
        <input class="form-textbox" type="text" [(ngModel)]="updateIpAddress" name="updateIpAddress">
        <p class="form-explanation">Choose the IP Address that H0M35T3AD will use to communicate with your device. Note that static IP's will only work if you're on the same network as the device.</p>
      </div>
      <div class="form-element">
        <input class="button-dark selectDisable" id="form-button-stretch" type="submit">
      </div>
    </form>
    <br><hr>
  </div>
  <button class="collapse-header" (click)="expand(2)">Delete a Device</button>
  <div class="collapse-panel">
    <form class="settings-form" (submit)="onDeleteSubmit()">
      <div class="form-element">
        <label class="form-label">Device to Delete:</label>
        <div class="select-wrapper">
          <select class="selectDisable" [(ngModel)]="selectedDeleteDevice" name="selectedDeleteDevice">
            <option *ngFor="let x of devices" [ngValue]="x">{{x.customId}}</option>
          </select>
        </div>
      </div>
      <div class="form-element">
        <button class="button-dark selectDisable" id="form-button-stretch" type="submit">Delete</button>
        <br><br><p class="form-explanation"><strong>WARNING:</strong> This action cannot be undone and permanently deletes all device data.</p>
      </div>
    </form>
    <br><hr>
  </div>
</div>

<!-- Delete Device Modal -->
<div id="deleteModal" class="modal">
  <div class="modal-content container">
    <h2>Warning!<br><br>Are you sure you want to do delete this device?<br><br></h2>
    <button class="button-dark selectDisable" (click)="onCancelDeleteSubmit()">Cancel</button>
    <button class="button-dark selectDisable" (click)="onConfirmDeleteSubmit()">Confirm</button>
  </div>
</div>
